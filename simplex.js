!function(e){"use strict";var t=void 0,r=1e5;function n(e){switch(typeof e){case"undefined":return"undefined";case"boolean":return"boolean";case"number":return"number";case"string":return"string";default:return null===e?"null":"object"}}function o(e){return Object.prototype.toString.call(e).replace(/^\[object *|\]$/g,"")}function i(e){return"function"==typeof e}function f(e){if(null===e||e===t)throw TypeError();return Object(e)}function a(e){return e>>0}function u(e){return e>>>0}var h,s,l=Math.LN2,p=Math.abs,y=Math.floor,c=Math.log,v=Math.max,b=Math.min,g=Math.pow,E=Math.round;function d(e,t){var r=32-t;return e<<r>>r}function _(e,t){var r=32-t;return e<<r>>>r}function O(e){return[255&e]}function j(e){return d(e[0],8)}function P(e){return[255&e]}function w(e){return _(e[0],8)}function T(e){return[(e=E(Number(e)))<0?0:e>255?255:255&e]}function A(e){return[255&e,e>>8&255]}function m(e){return d(e[1]<<8|e[0],16)}function M(e){return[255&e,e>>8&255]}function N(e){return _(e[1]<<8|e[0],16)}function L(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function R(e){return d(e[3]<<24|e[2]<<16|e[1]<<8|e[0],32)}function S(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function B(e){return _(e[3]<<24|e[2]<<16|e[1]<<8|e[0],32)}function U(e,t,r){var n,o,i,f=(1<<t-1)-1;function a(e){var t=y(e),r=e-t;return r<.5?t:r>.5?t+1:t%2?t+1:t}if(e!=e)o=(1<<t)-1,i=g(2,r-1),n=0;else if(e===1/0||e===-1/0)o=(1<<t)-1,i=0,n=e<0?1:0;else if(0===e)o=0,i=0,n=1/e==-1/0?1:0;else if(n=e<0,(e=p(e))>=g(2,1-f)){o=b(y(c(e)/l),1023);var u=e/g(2,o);u<1&&(o-=1,u*=2),u>=2&&(o+=1,u/=2);var h=g(2,r);o+=f,(i=a(u*h)-h)/h>=1&&(o+=1,i=0),o>2*f&&(o=(1<<t)-1,i=0)}else o=0,i=a(e/g(2,1-f-r));var s,v=[];for(s=r;s;s-=1)v.push(i%2?1:0),i=y(i/2);for(s=t;s;s-=1)v.push(o%2?1:0),o=y(o/2);v.push(n?1:0),v.reverse();for(var E=v.join(""),d=[];E.length;)d.unshift(parseInt(E.substring(0,8),2)),E=E.substring(8);return d}function Y(e,t,r){var n,o,i,f,a,u,h,s,l=[];for(n=0;n<e.length;++n)for(i=e[n],o=8;o;o-=1)l.push(i%2?1:0),i>>=1;return l.reverse(),f=l.join(""),a=(1<<t-1)-1,u=parseInt(f.substring(0,1),2)?-1:1,h=parseInt(f.substring(1,1+t),2),s=parseInt(f.substring(1+t),2),h===(1<<t)-1?0!==s?NaN:u*(1/0):h>0?u*g(2,h-a)*(1+s/g(2,r)):0!==s?u*g(2,-(a-1))*(s/g(2,r)):u<0?-0:0}function I(e){return Y(e,11,52)}function x(e){return U(e,11,52)}function F(e){return Y(e,8,23)}function D(e){return U(e,8,23)}h=Object.defineProperty,s=!function(){try{return Object.defineProperty({},"x",{})}catch(e){return!1}}(),h&&!s||(Object.defineProperty=function(e,t,r){if(h)try{return h(e,t,r)}catch(e){}if(e!==Object(e))throw TypeError("Object.defineProperty called on non-object");return Object.prototype.__defineGetter__&&"get"in r&&Object.prototype.__defineGetter__.call(e,t,r.get),Object.prototype.__defineSetter__&&"set"in r&&Object.prototype.__defineSetter__.call(e,t,r.set),"value"in r&&(e[t]=r.value),e}),function(){function h(e){if((e=a(e))<0)throw RangeError("ArrayBuffer size is not a small enough positive integer.");Object.defineProperty(this,"byteLength",{value:e}),Object.defineProperty(this,"_bytes",{value:Array(e)});for(var t=0;t<e;t+=1)this._bytes[t]=0}function s(){if(!arguments.length||"object"!=typeof arguments[0])return function(e){if((e=a(e))<0)throw RangeError("length is not a small enough positive integer.");Object.defineProperty(this,"length",{value:e}),Object.defineProperty(this,"byteLength",{value:e*this.BYTES_PER_ELEMENT}),Object.defineProperty(this,"buffer",{value:new h(this.byteLength)}),Object.defineProperty(this,"byteOffset",{value:0})}.apply(this,arguments);if(arguments.length>=1&&"object"===n(arguments[0])&&arguments[0]instanceof s)return function(e){if(this.constructor!==e.constructor)throw TypeError();var t=e.length*this.BYTES_PER_ELEMENT;Object.defineProperty(this,"buffer",{value:new h(t)}),Object.defineProperty(this,"byteLength",{value:t}),Object.defineProperty(this,"byteOffset",{value:0}),Object.defineProperty(this,"length",{value:e.length});for(var r=0;r<this.length;r+=1)this._setter(r,e._getter(r))}.apply(this,arguments);if(arguments.length>=1&&"object"===n(arguments[0])&&!(arguments[0]instanceof s)&&!(arguments[0]instanceof h||"ArrayBuffer"===o(arguments[0])))return function(e){var t=e.length*this.BYTES_PER_ELEMENT;Object.defineProperty(this,"buffer",{value:new h(t)}),Object.defineProperty(this,"byteLength",{value:t}),Object.defineProperty(this,"byteOffset",{value:0}),Object.defineProperty(this,"length",{value:e.length});for(var r=0;r<this.length;r+=1){var n=e[r];this._setter(r,Number(n))}}.apply(this,arguments);if(arguments.length>=1&&"object"===n(arguments[0])&&(arguments[0]instanceof h||"ArrayBuffer"===o(arguments[0])))return function(e,r,n){if((r=u(r))>e.byteLength)throw RangeError("byteOffset out of range");if(r%this.BYTES_PER_ELEMENT)throw RangeError("buffer length minus the byteOffset is not a multiple of the element size.");if(n===t){var o=e.byteLength-r;if(o%this.BYTES_PER_ELEMENT)throw RangeError("length of buffer minus byteOffset not a multiple of the element size");n=o/this.BYTES_PER_ELEMENT}else o=(n=u(n))*this.BYTES_PER_ELEMENT;if(r+o>e.byteLength)throw RangeError("byteOffset and length reference an area beyond the end of the buffer");Object.defineProperty(this,"buffer",{value:e}),Object.defineProperty(this,"byteLength",{value:o}),Object.defineProperty(this,"byteOffset",{value:r}),Object.defineProperty(this,"length",{value:n})}.apply(this,arguments);throw TypeError()}e.ArrayBuffer=e.ArrayBuffer||h,Object.defineProperty(s,"from",{value:function(e){return new this(e)}}),Object.defineProperty(s,"of",{value:function(){return new this(arguments)}});var l={};function c(t,n,o){var i=function(){Object.defineProperty(this,"constructor",{value:i}),s.apply(this,arguments),function(t){if(!("TYPED_ARRAY_POLYFILL_NO_ARRAY_ACCESSORS"in e)){if(t.length>r)throw RangeError("Array too large for polyfill");var n;for(n=0;n<t.length;n+=1)o(n)}function o(e){Object.defineProperty(t,e,{get:function(){return t._getter(e)},set:function(r){t._setter(e,r)},enumerable:!0,configurable:!1})}}(this)};"__proto__"in i?i.__proto__=s:(i.from=s.from,i.of=s.of),i.BYTES_PER_ELEMENT=t;var f=function(){};return f.prototype=l,i.prototype=new f,Object.defineProperty(i.prototype,"BYTES_PER_ELEMENT",{value:t}),Object.defineProperty(i.prototype,"_pack",{value:n}),Object.defineProperty(i.prototype,"_unpack",{value:o}),i}s.prototype=l,Object.defineProperty(s.prototype,"_getter",{value:function(e){if(arguments.length<1)throw SyntaxError("Not enough arguments");if((e=u(e))>=this.length)return t;var r,n,o=[];for(r=0,n=this.byteOffset+e*this.BYTES_PER_ELEMENT;r<this.BYTES_PER_ELEMENT;r+=1,n+=1)o.push(this.buffer._bytes[n]);return this._unpack(o)}}),Object.defineProperty(s.prototype,"get",{value:s.prototype._getter}),Object.defineProperty(s.prototype,"_setter",{value:function(e,t){if(arguments.length<2)throw SyntaxError("Not enough arguments");if(!((e=u(e))>=this.length)){var r,n,o=this._pack(t);for(r=0,n=this.byteOffset+e*this.BYTES_PER_ELEMENT;r<this.BYTES_PER_ELEMENT;r+=1,n+=1)this.buffer._bytes[n]=o[r]}}}),Object.defineProperty(s.prototype,"constructor",{value:s}),Object.defineProperty(s.prototype,"copyWithin",{value:function(e,r){var n=arguments[2],o=f(this),i=u(o.length);i=v(i,0);var h,s=a(e);h=s<0?v(i+s,0):b(s,i);var l,p,y,c=a(r);l=c<0?v(i+c,0):b(c,i),y=(p=n===t?i:a(n))<0?v(i+p,0):b(p,i);var g,E=b(y-l,i-h);for(l<h&&h<l+E?(g=-1,l=l+E-1,h=h+E-1):g=1;E>0;)o._setter(h,o._getter(l)),l+=g,h+=g,E-=1;return o}}),Object.defineProperty(s.prototype,"every",{value:function(e){if(this===t||null===this)throw TypeError();var r=Object(this),n=u(r.length);if(!i(e))throw TypeError();for(var o=arguments[1],f=0;f<n;f++)if(!e.call(o,r._getter(f),f,r))return!1;return!0}}),Object.defineProperty(s.prototype,"fill",{value:function(e){var r=arguments[1],n=arguments[2],o=f(this),i=u(o.length);i=v(i,0);var h,s,l,p=a(r);for(h=p<0?v(i+p,0):b(p,i),l=(s=n===t?i:a(n))<0?v(i+s,0):b(s,i);h<l;)o._setter(h,e),h+=1;return o}}),Object.defineProperty(s.prototype,"filter",{value:function(e){if(this===t||null===this)throw TypeError();var r=Object(this),n=u(r.length);if(!i(e))throw TypeError();for(var o=[],f=arguments[1],a=0;a<n;a++){var h=r._getter(a);e.call(f,h,a,r)&&o.push(h)}return new this.constructor(o)}}),Object.defineProperty(s.prototype,"find",{value:function(e){var r=f(this),n=u(r.length);if(!i(e))throw TypeError();for(var o=arguments.length>1?arguments[1]:t,a=0;a<n;){var h=r._getter(a),s=e.call(o,h,a,r);if(Boolean(s))return h;++a}return t}}),Object.defineProperty(s.prototype,"findIndex",{value:function(e){var r=f(this),n=u(r.length);if(!i(e))throw TypeError();for(var o=arguments.length>1?arguments[1]:t,a=0;a<n;){var h=r._getter(a),s=e.call(o,h,a,r);if(Boolean(s))return a;++a}return-1}}),Object.defineProperty(s.prototype,"forEach",{value:function(e){if(this===t||null===this)throw TypeError();var r=Object(this),n=u(r.length);if(!i(e))throw TypeError();for(var o=arguments[1],f=0;f<n;f++)e.call(o,r._getter(f),f,r)}}),Object.defineProperty(s.prototype,"indexOf",{value:function(e){if(this===t||null===this)throw TypeError();var r=Object(this),n=u(r.length);if(0===n)return-1;var o=0;if(arguments.length>0&&((o=Number(arguments[1]))!=o?o=0:0!==o&&o!==1/0&&o!==-1/0&&(o=(o>0||-1)*y(p(o)))),o>=n)return-1;for(var i=o>=0?o:v(n-p(o),0);i<n;i++)if(r._getter(i)===e)return i;return-1}}),Object.defineProperty(s.prototype,"join",{value:function(e){if(this===t||null===this)throw TypeError();for(var r=Object(this),n=u(r.length),o=Array(n),i=0;i<n;++i)o[i]=r._getter(i);return o.join(e===t?",":e)}}),Object.defineProperty(s.prototype,"lastIndexOf",{value:function(e){if(this===t||null===this)throw TypeError();var r=Object(this),n=u(r.length);if(0===n)return-1;var o=n;arguments.length>1&&((o=Number(arguments[1]))!=o?o=0:0!==o&&o!==1/0&&o!==-1/0&&(o=(o>0||-1)*y(p(o))));for(var i=o>=0?b(o,n-1):n-p(o);i>=0;i--)if(r._getter(i)===e)return i;return-1}}),Object.defineProperty(s.prototype,"map",{value:function(e){if(this===t||null===this)throw TypeError();var r=Object(this),n=u(r.length);if(!i(e))throw TypeError();var o=[];o.length=n;for(var f=arguments[1],a=0;a<n;a++)o[a]=e.call(f,r._getter(a),a,r);return new this.constructor(o)}}),Object.defineProperty(s.prototype,"reduce",{value:function(e){if(this===t||null===this)throw TypeError();var r=Object(this),n=u(r.length);if(!i(e))throw TypeError();if(0===n&&1===arguments.length)throw TypeError();var o,f=0;for(o=arguments.length>=2?arguments[1]:r._getter(f++);f<n;)o=e.call(t,o,r._getter(f),f,r),f++;return o}}),Object.defineProperty(s.prototype,"reduceRight",{value:function(e){if(this===t||null===this)throw TypeError();var r=Object(this),n=u(r.length);if(!i(e))throw TypeError();if(0===n&&1===arguments.length)throw TypeError();var o,f=n-1;for(o=arguments.length>=2?arguments[1]:r._getter(f--);f>=0;)o=e.call(t,o,r._getter(f),f,r),f--;return o}}),Object.defineProperty(s.prototype,"reverse",{value:function(){if(this===t||null===this)throw TypeError();for(var e=Object(this),r=u(e.length),n=y(r/2),o=0,i=r-1;o<n;++o,--i){var f=e._getter(o);e._setter(o,e._getter(i)),e._setter(i,f)}return e}}),Object.defineProperty(s.prototype,"set",{value:function(e,t){if(arguments.length<1)throw SyntaxError("Not enough arguments");var r,n,o,i,f,a,h,s,l,p;if("object"==typeof arguments[0]&&arguments[0].constructor===this.constructor){if(r=arguments[0],(o=u(arguments[1]))+r.length>this.length)throw RangeError("Offset plus length of array is out of range");if(s=this.byteOffset+o*this.BYTES_PER_ELEMENT,l=r.length*this.BYTES_PER_ELEMENT,r.buffer===this.buffer){for(p=[],f=0,a=r.byteOffset;f<l;f+=1,a+=1)p[f]=r.buffer._bytes[a];for(f=0,h=s;f<l;f+=1,h+=1)this.buffer._bytes[h]=p[f]}else for(f=0,a=r.byteOffset,h=s;f<l;f+=1,a+=1,h+=1)this.buffer._bytes[h]=r.buffer._bytes[a]}else{if("object"!=typeof arguments[0]||void 0===arguments[0].length)throw TypeError("Unexpected argument type(s)");if(i=u((n=arguments[0]).length),(o=u(arguments[1]))+i>this.length)throw RangeError("Offset plus length of array is out of range");for(f=0;f<i;f+=1)a=n[f],this._setter(o+f,Number(a))}}}),Object.defineProperty(s.prototype,"slice",{value:function(e,r){for(var n=f(this),o=u(n.length),i=a(e),h=i<0?v(o+i,0):b(i,o),s=r===t?o:a(r),l=s<0?v(o+s,0):b(s,o),p=l-h,y=new(0,n.constructor)(p),c=0;h<l;){var g=n._getter(h);y._setter(c,g),++h,++c}return y}}),Object.defineProperty(s.prototype,"some",{value:function(e){if(this===t||null===this)throw TypeError();var r=Object(this),n=u(r.length);if(!i(e))throw TypeError();for(var o=arguments[1],f=0;f<n;f++)if(e.call(o,r._getter(f),f,r))return!0;return!1}}),Object.defineProperty(s.prototype,"sort",{value:function(e){if(this===t||null===this)throw TypeError();for(var r=Object(this),n=u(r.length),o=Array(n),i=0;i<n;++i)o[i]=r._getter(i);for(o.sort(function(r,n){return r!=r&&n!=n?0:r!=r?1:n!=n?-1:e!==t?e(r,n):r<n?-1:r>n?1:0}),i=0;i<n;++i)r._setter(i,o[i]);return r}}),Object.defineProperty(s.prototype,"subarray",{value:function(e,t){function r(e,t,r){return e<t?t:e>r?r:e}e=a(e),t=a(t),arguments.length<1&&(e=0),arguments.length<2&&(t=this.length),e<0&&(e=this.length+e),t<0&&(t=this.length+t),e=r(e,0,this.length);var n=(t=r(t,0,this.length))-e;return n<0&&(n=0),new this.constructor(this.buffer,this.byteOffset+e*this.BYTES_PER_ELEMENT,n)}});var g=c(1,O,j),E=c(1,P,w),d=c(1,T,w),_=c(2,A,m),U=c(2,M,N),Y=c(4,L,R),C=c(4,S,B),k=c(4,D,F),q=c(8,x,I);e.Int8Array=e.Int8Array||g,e.Uint8Array=e.Uint8Array||E,e.Uint8ClampedArray=e.Uint8ClampedArray||d,e.Int16Array=e.Int16Array||_,e.Uint16Array=e.Uint16Array||U,e.Int32Array=e.Int32Array||Y,e.Uint32Array=e.Uint32Array||C,e.Float32Array=e.Float32Array||k,e.Float64Array=e.Float64Array||q}(),function(){function r(e,t){return i(e.get)?e.get(t):e[t]}var n,f=(n=new Uint16Array([4660]),18===r(new Uint8Array(n.buffer),0));function a(e,r,n){if(!(e instanceof ArrayBuffer||"ArrayBuffer"===o(e)))throw TypeError();if((r=u(r))>e.byteLength)throw RangeError("byteOffset out of range");if(r+(n=n===t?e.byteLength-r:u(n))>e.byteLength)throw RangeError("byteOffset and length reference an area beyond the end of the buffer");Object.defineProperty(this,"buffer",{value:e}),Object.defineProperty(this,"byteLength",{value:n}),Object.defineProperty(this,"byteOffset",{value:r})}function h(e){return function(t,n){if((t=u(t))+e.BYTES_PER_ELEMENT>this.byteLength)throw RangeError("Array index out of range");t+=this.byteOffset;for(var o=new Uint8Array(this.buffer,t,e.BYTES_PER_ELEMENT),i=[],a=0;a<e.BYTES_PER_ELEMENT;a+=1)i.push(r(o,a));return Boolean(n)===Boolean(f)&&i.reverse(),r(new e(new Uint8Array(i).buffer),0)}}function s(e){return function(t,n,o){if((t=u(t))+e.BYTES_PER_ELEMENT>this.byteLength)throw RangeError("Array index out of range");var i,a=new e([n]),h=new Uint8Array(a.buffer),s=[];for(i=0;i<e.BYTES_PER_ELEMENT;i+=1)s.push(r(h,i));Boolean(o)===Boolean(f)&&s.reverse(),new Uint8Array(this.buffer,t,e.BYTES_PER_ELEMENT).set(s)}}Object.defineProperty(a.prototype,"getUint8",{value:h(Uint8Array)}),Object.defineProperty(a.prototype,"getInt8",{value:h(Int8Array)}),Object.defineProperty(a.prototype,"getUint16",{value:h(Uint16Array)}),Object.defineProperty(a.prototype,"getInt16",{value:h(Int16Array)}),Object.defineProperty(a.prototype,"getUint32",{value:h(Uint32Array)}),Object.defineProperty(a.prototype,"getInt32",{value:h(Int32Array)}),Object.defineProperty(a.prototype,"getFloat32",{value:h(Float32Array)}),Object.defineProperty(a.prototype,"getFloat64",{value:h(Float64Array)}),Object.defineProperty(a.prototype,"setUint8",{value:s(Uint8Array)}),Object.defineProperty(a.prototype,"setInt8",{value:s(Int8Array)}),Object.defineProperty(a.prototype,"setUint16",{value:s(Uint16Array)}),Object.defineProperty(a.prototype,"setInt16",{value:s(Int16Array)}),Object.defineProperty(a.prototype,"setUint32",{value:s(Uint32Array)}),Object.defineProperty(a.prototype,"setInt32",{value:s(Int32Array)}),Object.defineProperty(a.prototype,"setFloat32",{value:s(Float32Array)}),Object.defineProperty(a.prototype,"setFloat64",{value:s(Float64Array)}),e.DataView=e.DataView||a}()}(self),function(){"use strict";var e=.5*(Math.sqrt(3)-1),t=(3-Math.sqrt(3))/6,r=1/6,n=(Math.sqrt(5)-1)/4,o=(5-Math.sqrt(5))/20;function i(e){var t;t="function"==typeof e?e:e?function(){var e,t=0,r=0,n=0,o=1,i=(e=4022871197,function(t){t=t.toString();for(var r=0;r<t.length;r++){var n=.02519603282416938*(e+=t.charCodeAt(r));n-=e=n>>>0,e=(n*=e)>>>0,e+=4294967296*(n-=e)}return 2.3283064365386963e-10*(e>>>0)});t=i(" "),r=i(" "),n=i(" ");for(var f=0;f<arguments.length;f++)(t-=i(arguments[f]))<0&&(t+=1),(r-=i(arguments[f]))<0&&(r+=1),(n-=i(arguments[f]))<0&&(n+=1);return i=null,function(){var e=2091639*t+2.3283064365386963e-10*o;return t=r,r=n,n=e-(o=0|e)}}(e):Math.random,this.p=f(t),this.perm=new Uint8Array(512),this.permMod12=new Uint8Array(512);for(var r=0;r<512;r++)this.perm[r]=this.p[255&r],this.permMod12[r]=this.perm[r]%12}function f(e){var t,r=new Uint8Array(256);for(t=0;t<256;t++)r[t]=t;for(t=0;t<255;t++){var n=t+~~(e()*(256-t)),o=r[t];r[t]=r[n],r[n]=o}return r}i.prototype={grad3:new Float32Array([1,1,0,-1,1,0,1,-1,0,-1,-1,0,1,0,1,-1,0,1,1,0,-1,-1,0,-1,0,1,1,0,-1,1,0,1,-1,0,-1,-1]),grad4:new Float32Array([0,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,1,0,1,1,1,0,1,-1,1,0,-1,1,1,0,-1,-1,-1,0,1,1,-1,0,1,-1,-1,0,-1,1,-1,0,-1,-1,1,1,0,1,1,1,0,-1,1,-1,0,1,1,-1,0,-1,-1,1,0,1,-1,1,0,-1,-1,-1,0,1,-1,-1,0,-1,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,0]),noise2D:function(r,n){var o,i,f=this.permMod12,a=this.perm,u=this.grad3,h=0,s=0,l=0,p=(r+n)*e,y=Math.floor(r+p),c=Math.floor(n+p),v=(y+c)*t,b=r-(y-v),g=n-(c-v);b>g?(o=1,i=0):(o=0,i=1);var E=b-o+t,d=g-i+t,_=b-1+2*t,O=g-1+2*t,j=255&y,P=255&c,w=.5-b*b-g*g;if(w>=0){var T=3*f[j+a[P]];h=(w*=w)*w*(u[T]*b+u[T+1]*g)}var A=.5-E*E-d*d;if(A>=0){var m=3*f[j+o+a[P+i]];s=(A*=A)*A*(u[m]*E+u[m+1]*d)}var M=.5-_*_-O*O;if(M>=0){var N=3*f[j+1+a[P+1]];l=(M*=M)*M*(u[N]*_+u[N+1]*O)}return 70*(h+s+l)},noise3D:function(e,t,n){var o,i,f,a,u,h,s,l,p,y,c=this.permMod12,v=this.perm,b=this.grad3,g=(e+t+n)*(1/3),E=Math.floor(e+g),d=Math.floor(t+g),_=Math.floor(n+g),O=(E+d+_)*r,j=e-(E-O),P=t-(d-O),w=n-(_-O);j>=P?P>=w?(u=1,h=0,s=0,l=1,p=1,y=0):j>=w?(u=1,h=0,s=0,l=1,p=0,y=1):(u=0,h=0,s=1,l=1,p=0,y=1):P<w?(u=0,h=0,s=1,l=0,p=1,y=1):j<w?(u=0,h=1,s=0,l=0,p=1,y=1):(u=0,h=1,s=0,l=1,p=1,y=0);var T=j-u+r,A=P-h+r,m=w-s+r,M=j-l+2*r,N=P-p+2*r,L=w-y+2*r,R=j-1+.5,S=P-1+.5,B=w-1+.5,U=255&E,Y=255&d,I=255&_,x=.6-j*j-P*P-w*w;if(x<0)o=0;else{var F=3*c[U+v[Y+v[I]]];o=(x*=x)*x*(b[F]*j+b[F+1]*P+b[F+2]*w)}var D=.6-T*T-A*A-m*m;if(D<0)i=0;else{var C=3*c[U+u+v[Y+h+v[I+s]]];i=(D*=D)*D*(b[C]*T+b[C+1]*A+b[C+2]*m)}var k=.6-M*M-N*N-L*L;if(k<0)f=0;else{var q=3*c[U+l+v[Y+p+v[I+y]]];f=(k*=k)*k*(b[q]*M+b[q+1]*N+b[q+2]*L)}var z=.6-R*R-S*S-B*B;if(z<0)a=0;else{var G=3*c[U+1+v[Y+1+v[I+1]]];a=(z*=z)*z*(b[G]*R+b[G+1]*S+b[G+2]*B)}return 32*(o+i+f+a)},noise4D:function(e,t,r,i){var f,a,u,h,s,l,p,y,c,v,b,g,E,d,_,O,j,P=this.perm,w=this.grad4,T=(e+t+r+i)*n,A=Math.floor(e+T),m=Math.floor(t+T),M=Math.floor(r+T),N=Math.floor(i+T),L=(A+m+M+N)*o,R=e-(A-L),S=t-(m-L),B=r-(M-L),U=i-(N-L),Y=0,I=0,x=0,F=0;R>S?Y++:I++,R>B?Y++:x++,R>U?Y++:F++,S>B?I++:x++,S>U?I++:F++,B>U?x++:F++;var D=R-(l=Y>=3?1:0)+o,C=S-(p=I>=3?1:0)+o,k=B-(y=x>=3?1:0)+o,q=U-(c=F>=3?1:0)+o,z=R-(v=Y>=2?1:0)+2*o,G=S-(b=I>=2?1:0)+2*o,V=B-(g=x>=2?1:0)+2*o,W=U-(E=F>=2?1:0)+2*o,$=R-(d=Y>=1?1:0)+3*o,H=S-(_=I>=1?1:0)+3*o,J=B-(O=x>=1?1:0)+3*o,K=U-(j=F>=1?1:0)+3*o,Q=R-1+4*o,X=S-1+4*o,Z=B-1+4*o,ee=U-1+4*o,te=255&A,re=255&m,ne=255&M,oe=255&N,ie=.6-R*R-S*S-B*B-U*U;if(ie<0)f=0;else{var fe=P[te+P[re+P[ne+P[oe]]]]%32*4;f=(ie*=ie)*ie*(w[fe]*R+w[fe+1]*S+w[fe+2]*B+w[fe+3]*U)}var ae=.6-D*D-C*C-k*k-q*q;if(ae<0)a=0;else{var ue=P[te+l+P[re+p+P[ne+y+P[oe+c]]]]%32*4;a=(ae*=ae)*ae*(w[ue]*D+w[ue+1]*C+w[ue+2]*k+w[ue+3]*q)}var he=.6-z*z-G*G-V*V-W*W;if(he<0)u=0;else{var se=P[te+v+P[re+b+P[ne+g+P[oe+E]]]]%32*4;u=(he*=he)*he*(w[se]*z+w[se+1]*G+w[se+2]*V+w[se+3]*W)}var le=.6-$*$-H*H-J*J-K*K;if(le<0)h=0;else{var pe=P[te+d+P[re+_+P[ne+O+P[oe+j]]]]%32*4;h=(le*=le)*le*(w[pe]*$+w[pe+1]*H+w[pe+2]*J+w[pe+3]*K)}var ye=.6-Q*Q-X*X-Z*Z-ee*ee;if(ye<0)s=0;else{var ce=P[te+1+P[re+1+P[ne+1+P[oe+1]]]]%32*4;s=(ye*=ye)*ye*(w[ce]*Q+w[ce+1]*X+w[ce+2]*Z+w[ce+3]*ee)}return 27*(f+a+u+h+s)}},i._buildPermutationTable=f,"undefined"!=typeof define&&define.amd&&define(function(){return i}),"undefined"!=typeof exports?exports.SimplexNoise=i:"undefined"!=typeof window&&(window.SimplexNoise=i),"undefined"!=typeof module&&(module.exports=i)}();var setSimplexNoise=new SimplexNoise;function resetNoise(e=!1){setSimplexNoise=0==e?new SimplexNoise:new SimplexNoise(e)}function getNoise(e=0,t=0,r=0,n=0){return setSimplexNoise.noise4D(e,t,r,n)+.5}